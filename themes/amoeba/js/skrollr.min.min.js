/*! skrollr 0.6.13 (2013-09-29) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
(function(aN,av,ax){function aD(c){if(aC=av.documentElement,aS=av.body,bf(),bq=this,c=c||{},bD=c.constants||{},c.easing){for(var d in c.easing){aI[d]=c.easing[d]}}aU=c.edgeStrategy||"set",by={beforerender:c.beforerender,render:c.render},aj=c.forceHeight!==!1,aj&&(aF=c.scale||1),ay=c.mobileDeceleration||bs,bw=c.smoothScrolling!==!1,bu=c.smoothScrollingDuration||bn,af={targetTop:bq.getScrollTop()},bK=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||aN.opera)})(),bK?(bF=av.getElementById("skrollr-body"),bF&&aq(),a1(),bI(aC,[an,a7],[a5])):bI(aC,[an,aR],[a5]),bq.refresh(),aQ(aN,"resize orientationchange",function(){var g=aC.clientWidth,f=aC.clientHeight;(f!==ad||g!==a0)&&(ad=f,a0=g,bv=!0)});var b=a9();return function a(){aW(),bB=b(a)}(),bq}var aC,aS,aJ=aN.skrollr={get:function(){return bq},init:function(a){return bq||new aD(a)},VERSION:"0.6.13"},aG=Object.prototype.hasOwnProperty,aw=aN.Math,aP=aN.getComputedStyle,aM="touchstart",au="touchmove",aB="touchcancel",aE="touchend",aL="skrollable",aO=aL+"-before",ar=aL+"-between",aK=aL+"-after",an="skrollr",a5="no-"+an,aR=an+"-desktop",a7=an+"-mobile",ap="linear",aH=1000,bs=0.004,bn=200,ao="start",bm="end",bp="center",bo="bottom",bk="___skrollable_id",bb=/^\s+|\s+$/g,a3=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,am=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,bc=/^([a-z\-]+)\[(\w+)\]$/,aA=/-([a-z])/g,bj=function(b,a){return a.toUpperCase()},bg=/[\-+]?[\d]*\.?[\d]+/g,br=/\{\?\}/g,bC=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,aT=/[a-z\-]+-gradient/g,bl="",be="",bf=function(){var b=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(aP){var a=aP(aS,null);for(var c in a){if(bl=c.match(b)||+c==c&&a[c].match(b)){break}}if(!bl){return bl=be="",ax}bl=bl[0],"-"===bl.slice(0,1)?(be=bl,bl={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[bl]):be="-"+bl.toLowerCase()+"-"}},a9=function(){var a=aN.requestAnimationFrame||aN[bl.toLowerCase()+"RequestAnimationFrame"],b=al();return(bK||!a)&&(a=function(c){var e=al()-b,d=aw.max(0,1000/60-e);return aN.setTimeout(function(){b=al(),c()},d)}),a},a4=function(){var a=aN.cancelAnimationFrame||aN[bl.toLowerCase()+"CancelAnimationFrame"];return(bK||!a)&&(a=function(b){return aN.clearTimeout(b)}),a},aI={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return -aw.cos(a*aw.PI)/2+0.5},sqrt:function(a){return aw.sqrt(a)},outCubic:function(a){return aw.pow(a-1,3)+1},bounce:function(b){var a;if(0.5083>=b){a=3}else{if(0.8489>=b){a=9}else{if(0.96208>=b){a=27}else{if(!(0.99981>=b)){return 1}a=91}}}return 1-aw.abs(3*aw.cos(1.028*b*a)/a)}};aD.prototype.refresh=function(L){var E,D,P=!1;for(L===ax?(P=!0,ak=[],a2=0,L=av.getElementsByTagName("*")):L=[].concat(L),E=0,D=L.length;D>E;E++){var I=L[E],G=I,z=[],N=bw,K=aU;if(I.attributes){for(var x=0,C=I.attributes.length;C>x;x++){var F=I.attributes[x];if("data-anchor-target"!==F.name){if("data-smooth-scrolling"!==F.name){if("data-edge-strategy"!==F.name){var M=F.name.match(a3);if(null!==M){var t={props:F.value,element:I};z.push(t);var J=M[1];J=J&&bD[J.substr(1)]||0;var q=M[2];/p$/.test(q)?(t.isPercentage=!0,t.offset=((0|q.slice(0,-1))+J)/100):t.offset=(0|q)+J;var g=M[3],O=M[4]||g;g&&g!==ao&&g!==bm?(t.mode="relative",t.anchors=[g,O]):(t.mode="absolute",g===bm?t.isEnd=!0:t.isPercentage||(t.frame=t.offset*aF,delete t.offset))}}else{K=F.value}}else{N="off"!==F.value}}else{if(G=av.querySelector(F.value),null===G){throw'Unable to find anchor target "'+F.value+'"'}}}if(z.length){var j,r,H;!P&&bk in I?(H=I[bk],j=ak[H].styleAttr,r=ak[H].classAttr):(H=I[bk]=a2++,j=I.style.cssText,r=ag(I)),ak[H]={element:I,styleAttr:j,classAttr:r,anchorTarget:G,keyFrames:z,smoothScrolling:N,edgeStrategy:K},bI(I,[aL],[])}}}for(aa(),E=0,D=L.length;D>E;E++){var B=ak[L[E][bk]];B!==ax&&(bi(B),ba(B))}return bq},aD.prototype.relativeToAbsolute=function(h,f,g){var j=aC.clientHeight,c=h.getBoundingClientRect(),d=c.top,b=c.bottom-c.top;return f===bo?d-=j:f===bp&&(d-=j/2),g===bo?d+=b:g===bp&&(d+=b/2),d+=bq.getScrollTop(),0|d+0.5},aD.prototype.animateTo=function(b,a){a=a||{};var d=al(),c=bq.getScrollTop();return ah={startTop:c,topDiff:b-c,targetTop:b,duration:a.duration||aH,startTime:d,endTime:d+(a.duration||aH),easing:aI[a.easing||ap],done:a.done},ah.topDiff||(ah.done&&ah.done.call(bq,!1),ah=ax),bq},aD.prototype.stopAnimateTo=function(){ah&&ah.done&&ah.done.call(bq,!0),ah=ax},aD.prototype.isAnimatingTo=function(){return !!ah},aD.prototype.setScrollTop=function(a,b){return b===!0&&(a8=a,ai=!0),bK?bG=aw.min(aw.max(a,0),az):aN.scrollTo(0,a),bq},aD.prototype.getScrollTop=function(){return bK?bG:aN.pageYOffset||aC.scrollTop||aS.scrollTop||0},aD.prototype.on=function(b,a){return by[b]=a,bq},aD.prototype.off=function(a){return delete by[a],bq},aD.prototype.destroy=function(){var b=a4();b(bB),ae(),bI(aC,[a5],[an,aR,a7]);for(var a=0,c=ak.length;c>a;a++){aY(ak[a].element)}aC.style.overflow=aS.style.overflow="auto",aC.style.height=aS.style.height="auto",bF&&aJ.setStyle(bF,"transform","none"),bq=ax,bF=ax,by=ax,aj=ax,az=0,aF=1,bD=ax,ay=ax,bd="down",a8=-1,a0=0,ad=0,bv=!1,ah=ax,bw=ax,bu=ax,af=ax,ai=ax,a2=0,aU=ax,bK=!1,bG=0,bA=ax};var a1=function(){var r,a,f,b,o,k,m,q,j,p,e;aQ(aC,[aM,au,aB,aE].join(" "),function(i){i.preventDefault();var c=i.changedTouches[0];switch(b=c.clientY,o=c.clientX,j=i.timeStamp,i.type){case aM:r&&r.blur(),bq.stopAnimateTo(),r=i.target,a=k=b,f=o,q=j;break;case au:m=b-k,e=j-p,bq.setScrollTop(bG-m,!0),k=b,p=j;break;default:case aB:case aE:var s=a-b,l=f-o,h=l*l+s*s;if(49>h){return r.focus(),r.click(),ax}r=ax;var t=m/e;t=aw.max(aw.min(t,3),-3);var g=aw.abs(t/ay),d=t*g+0.5*ay*g*g,u=bq.getScrollTop()-d,n=0;u>az?(n=(az-u)/d,u=az):0>u&&(n=-u/d,u=0),g*=1-n,bq.animateTo(u,{easing:"outCubic",duration:g})}}),aN.scrollTo(0,0),aC.style.overflow=aS.style.overflow="hidden"},aX=function(){var k,q,b,d,o,h,g,m,j;for(m=0,j=ak.length;j>m;m++){for(k=ak[m],q=k.element,b=k.anchorTarget,d=k.keyFrames,o=0,h=d.length;h>o;o++){g=d[o];var p=g.offset;g.isPercentage&&(p*=aC.clientHeight,g.frame=p),"relative"===g.mode&&(aY(q),g.frame=bq.relativeToAbsolute(b,g.anchors[0],g.anchors[1])-p,aY(q,!0)),aj&&!g.isEnd&&g.frame>az&&(az=g.frame)}}for(az=aw.max(az,bE()),m=0,j=ak.length;j>m;m++){for(k=ak[m],d=k.keyFrames,o=0,h=d.length;h>o;o++){g=d[o],g.isEnd&&(g.frame=az-g.offset)}k.keyFrames.sort(bx)}},aZ=function(K,v){for(var B=0,G=ak.length;G>B;B++){var F,N,z=ak[B],L=z.element,J=z.smoothScrolling?K:v,l=z.keyFrames,D=l[0].frame,H=l[l.length-1].frame,h=D>J,d=J>H,M=l[h?0:l.length-1];if(h||d){if(h&&-1===z.edge||d&&1===z.edge){continue}switch(bI(L,[h?aO:aK],[aO,ar,aK]),z.edge=h?-1:1,z.edgeStrategy){case"reset":aY(L);continue;case"ease":J=M.frame;break;default:case"set":var g=M.props;for(F in g){aG.call(g,F)&&(N=bH(g[F].value),aJ.setStyle(L,F,N))}continue}}else{0!==z.edge&&(bI(L,[aL,ar],[aO,aK]),z.edge=0)}for(var j=0,I=l.length-1;I>j;j++){if(J>=l[j].frame&&l[j+1].frame>=J){var C=l[j],q=l[j+1];for(F in C.props){if(aG.call(C.props,F)){var i=(J-C.frame)/(q.frame-C.frame);i=C.props[F].easing(i),N=a6(C.props[F].value,q.props[F].value,i),N=bH(N),aJ.setStyle(L,F,N)}}break}}}},aW=function(){bv&&(bv=!1,aa());var g,d,i=bq.getScrollTop(),h=al();if(ah){h>=ah.endTime?(i=ah.targetTop,g=ah.done,ah=ax):(d=ah.easing((h-ah.startTime)/ah.duration),i=0|ah.startTop+d*ah.topDiff),bq.setScrollTop(i,!0)}else{if(!bK){var c=af.targetTop-i;c&&(af={startTop:a8,topDiff:i-a8,targetTop:i,startTime:ac,endTime:ac+bu}),af.endTime>=h&&(d=aI.sqrt((h-af.startTime)/bu),i=0|af.startTop+d*af.topDiff)}}if(bK&&bF&&aJ.setStyle(bF,"transform","translate(0, "+-bG+"px) "+bA),ai||a8!==i){bd=i>=a8?"down":"up",ai=!1;var b={curTop:i,lastTop:a8,maxTop:az,direction:bd},f=by.beforerender&&by.beforerender.call(bq,b);f!==!1&&(aZ(i,bq.getScrollTop()),a8=i,by.render&&by.render.call(bq,b)),g&&g.call(bq,!1)}ac=h},bi=function(h){for(var k=0,b=h.keyFrames.length;b>k;k++){for(var d,c,j,g,f=h.keyFrames[k],m={};null!==(g=am.exec(f.props));){j=g[1],c=g[2],d=j.match(bc),null!==d?(j=d[1],d=d[2]):d=ap,c=c.indexOf("!")?bh(c):[c.slice(1)],m[j]={value:c,easing:aI[d]}}f.props=m}},bh=function(b){var a=[];return bC.lastIndex=0,b=b.replace(bC,function(c){return c.replace(bg,function(d){return 100*(d/255)+"%"})}),be&&(aT.lastIndex=0,b=b.replace(aT,function(c){return be+c})),b=b.replace(bg,function(c){return a.push(+c),"{?}"}),a.unshift(b),a},ba=function(c){var a,b,d={};for(a=0,b=c.keyFrames.length;b>a;a++){bL(c.keyFrames[a],d)}for(d={},a=c.keyFrames.length-1;a>=0;a--){bL(c.keyFrames[a],d)}},bL=function(c,a){var b;for(b in a){aG.call(c.props,b)||(c.props[b]=a[b])}for(b in c.props){a[b]=c.props[b]}},a6=function(f,c,d){var h,g=f.length;if(g!==c.length){throw"Can't interpolate between \""+f[0]+'" and "'+c[0]+'"'}var b=[f[0]];for(h=1;g>h;h++){b[h]=f[h]+(c[h]-f[h])*d}return b},bH=function(b){var a=1;return br.lastIndex=0,b[0].replace(br,function(){return b[a++]})},aY=function(f,c){f=[].concat(f);for(var d,h,g=0,b=f.length;b>g;g++){h=f[g],d=ak[h[bk]],d&&(c?(h.style.cssText=d.dirtyStyleAttr,bI(h,d.dirtyClassAttr)):(d.dirtyStyleAttr=h.style.cssText,d.dirtyClassAttr=ag(h),h.style.cssText=d.styleAttr,bI(h,d.classAttr)))}},aq=function(){bA="translateZ(0)",aJ.setStyle(bF,"transform",bA);var c=aP(bF),a=c.getPropertyValue("transform"),b=c.getPropertyValue(be+"transform"),d=a&&"none"!==a||b&&"none"!==b;d||(bA="")};aJ.setStyle=function(c,a,b){var f=c.style;if(a=a.replace(aA,bj).replace("-",""),"zIndex"===a){f[a]=""+(0|b)}else{if("float"===a){f.styleFloat=f.cssFloat=b}else{try{bl&&(f[bl+a.slice(0,1).toUpperCase()+a.slice(1)]=b),f[a]=b}catch(d){}}}};var bq,ak,bF,by,aj,bD,ay,ah,bw,bu,af,ai,aU,bA,bB,aQ=aJ.addEvent=function(e,f,h){var g=function(a){return a=a||aN.event,a.target||(a.target=a.srcElement),a.preventDefault||(a.preventDefault=function(){a.returnValue=!1}),h.call(this,a)};f=f.split(" ");for(var c,d=0,b=f.length;b>d;d++){c=f[d],e.addEventListener?e.addEventListener(c,h,!1):e.attachEvent("on"+c,g),bz.push({element:e,name:c,listener:h})}},bJ=aJ.removeEvent=function(c,a,b){a=a.split(" ");for(var f=0,d=a.length;d>f;f++){c.removeEventListener?c.removeEventListener(a[f],b,!1):c.detachEvent("on"+a[f],b)}},ae=function(){for(var c,a=0,b=bz.length;b>a;a++){c=bz[a],bJ(c.element,c.name,c.listener)}bz=[]},aa=function(){var a=bq.getScrollTop();az=0,aj&&!bK&&(aS.style.height="auto"),aX(),aj&&!bK&&(aS.style.height=az+aC.clientHeight+"px"),bK?bq.setScrollTop(aw.min(bq.getScrollTop(),az)):bq.setScrollTop(a,!0),ai=!0},bE=function(){var b=bF&&bF.offsetHeight||0,a=aw.max(b,aS.scrollHeight,aS.offsetHeight,aC.scrollHeight,aC.offsetHeight,aC.clientHeight);return a-aC.clientHeight},ag=function(a){var b="className";return aN.SVGElement&&a instanceof aN.SVGElement&&(a=a[b],b="baseVal"),a[b]},bI=function(m,d,b){var k="className";if(aN.SVGElement&&m instanceof aN.SVGElement&&(m=m[k],k="baseVal"),b===ax){return m[k]=d,ax}for(var g=m[k],e=0,p=b.length;p>e;e++){g=aV(g).replace(aV(b[e])," ")}g=ab(g);for(var j=0,h=d.length;h>j;j++){-1===aV(g).indexOf(aV(d[j]))&&(g+=" "+d[j])}m[k]=ab(g)},ab=function(a){return a.replace(bb,"")},aV=function(a){return" "+a+" "},al=Date.now||function(){return +new Date},bx=function(b,a){return b.frame-a.frame},az=0,aF=1,bd="down",a8=-1,ac=al(),a0=0,ad=0,bv=!1,a2=0,bK=!1,bG=0,bz=[]})(window,document);