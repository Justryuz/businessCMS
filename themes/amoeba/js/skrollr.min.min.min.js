/*! skrollr 0.6.13 (2013-09-29) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
(function(ba,E,C){function bk(ad){if(bl=E.documentElement,aw=E.body,u(),j=this,ad=ad||{},ai=ad.constants||{},ad.easing){for(var ac in ad.easing){bf[ac]=ad.easing[ac]}}au=ad.edgeStrategy||"set",c={beforerender:ad.beforerender,render:ad.render},Q=ad.forceHeight!==!1,Q&&(bi=ad.scale||1),B=ad.mobileDeceleration||h,e=ad.smoothScrolling!==!1,g=ad.smoothScrollingDuration||m,Y={targetTop:j.getScrollTop()},P=(ad.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||ba.opera)})(),P?(ae=E.getElementById("skrollr-body"),ae&&H(),bw(),T(bl,[K,bq],[bs])):T(bl,[K,ax],[bs]),j.refresh(),ay(ba,"resize orientationchange",function(){var aA=bl.clientWidth,aB=bl.clientHeight;(aB!==af||aA!==a)&&(af=aB,a=aA,f=!0)});var aa=bo();return function ab(){ar(),am=aa(ab)}(),j}var bl,aw,be=ba.skrollr={get:function(){return j},init:function(aa){return j||new bk(aa)},VERSION:"0.6.13"},bh=Object.prototype.hasOwnProperty,D=ba.Math,az=ba.getComputedStyle,bb="touchstart",F="touchmove",bm="touchcancel",bj="touchend",bc="skrollable",a0=bc+"-before",G=bc+"-between",bd=bc+"-after",K="skrollr",bs="no-"+K,ax=K+"-desktop",bq=K+"-mobile",I="linear",bg=1000,h=0.004,m=200,J="start",n="end",k="center",l="bottom",p="___skrollable_id",y=/^\s+|\s+$/g,bu=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,L=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,x=/^([a-z\-]+)\[(\w+)\]$/,bn=/-([a-z])/g,q=function(aa,ab){return ab.toUpperCase()},t=/[\-+]?[\d]*\.?[\d]+/g,i=/\{\?\}/g,ak=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,av=/[a-z\-]+-gradient/g,o="",v="",u=function(){var aa=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(az){var ab=az(aw,null);for(var ac in ab){if(o=ac.match(aa)||+ac==ac&&ab[ac].match(aa)){break}}if(!o){return o=v="",C}o=o[0],"-"===o.slice(0,1)?(v=o,o={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[o]):v="-"+o.toLowerCase()+"-"}},bo=function(){var ab=ba.requestAnimationFrame||ba[o.toLowerCase()+"RequestAnimationFrame"],aa=M();return(P||!ab)&&(ab=function(aA){var ac=M()-aa,ad=D.max(0,1000/60-ac);return ba.setTimeout(function(){aa=M(),aA()},ad)}),ab},bt=function(){var aa=ba.cancelAnimationFrame||ba[o.toLowerCase()+"CancelAnimationFrame"];return(P||!aa)&&(aa=function(ab){return ba.clearTimeout(ab)}),aa},bf={begin:function(){return 0},end:function(){return 1},linear:function(aa){return aa},quadratic:function(aa){return aa*aa},cubic:function(aa){return aa*aa*aa},swing:function(aa){return -D.cos(aa*D.PI)/2+0.5},sqrt:function(aa){return D.sqrt(aa)},outCubic:function(aa){return D.pow(aa-1,3)+1},bounce:function(aa){var ab;if(0.5083>=aa){ab=3}else{if(0.8489>=aa){ab=9}else{if(0.96208>=aa){ab=27}else{if(!(0.99981>=aa)){return 1}ab=91}}}return 1-D.abs(3*D.cos(1.028*aa*ab)/ab)}};bk.prototype.refresh=function(aA){var aJ,aL,aa=!1;for(aA===C?(aa=!0,O=[],bv=0,aA=E.getElementsByTagName("*")):aA=[].concat(aA),aJ=0,aL=aA.length;aL>aJ;aJ++){var aE=aA[aJ],aH=aE,aC=[],ac=e,aB=au;if(aE.attributes){for(var aF=0,aN=aE.attributes.length;aN>aF;aF++){var aI=aE.attributes[aF];if("data-anchor-target"!==aI.name){if("data-smooth-scrolling"!==aI.name){if("data-edge-strategy"!==aI.name){var ad=aI.name.match(bu);if(null!==ad){var aK={props:aI.value,element:aE};aC.push(aK);var aD=ad[1];aD=aD&&ai[aD.substr(1)]||0;var aP=ad[2];/p$/.test(aP)?(aK.isPercentage=!0,aK.offset=((0|aP.slice(0,-1))+aD)/100):aK.offset=(0|aP)+aD;var aR=ad[3],ab=ad[4]||aR;aR&&aR!==J&&aR!==n?(aK.mode="relative",aK.anchors=[aR,ab]):(aK.mode="absolute",aR===n?aK.isEnd=!0:aK.isPercentage||(aK.frame=aK.offset*bi,delete aK.offset))}}else{aB=aI.value}}else{ac="off"!==aI.value}}else{if(aH=E.querySelector(aI.value),null===aH){throw'Unable to find anchor target "'+aI.value+'"'}}}if(aC.length){var aQ,aM,aG;!aa&&p in aE?(aG=aE[p],aQ=O[aG].styleAttr,aM=O[aG].classAttr):(aG=aE[p]=bv++,aQ=aE.style.cssText,aM=V(aE)),O[aG]={element:aE,styleAttr:aQ,classAttr:aM,anchorTarget:aH,keyFrames:aC,smoothScrolling:ac,edgeStrategy:aB},T(aE,[bc],[])}}}for(al(),aJ=0,aL=aA.length;aL>aJ;aJ++){var aO=O[aA[aJ][p]];aO!==C&&(r(aO),z(aO))}return j},bk.prototype.relativeToAbsolute=function(ac,aA,ad){var ab=bl.clientHeight,aC=ac.getBoundingClientRect(),aB=aC.top,aa=aC.bottom-aC.top;return aA===l?aB-=ab:aA===k&&(aB-=ab/2),ad===l?aB+=aa:ad===k&&(aB+=aa/2),aB+=j.getScrollTop(),0|aB+0.5},bk.prototype.animateTo=function(aa,ab){ab=ab||{};var ac=M(),ad=j.getScrollTop();return U={startTop:ad,topDiff:aa-ad,targetTop:aa,duration:ab.duration||bg,startTime:ac,endTime:ac+(ab.duration||bg),easing:bf[ab.easing||I],done:ab.done},U.topDiff||(U.done&&U.done.call(j,!1),U=C),j},bk.prototype.stopAnimateTo=function(){U&&U.done&&U.done.call(j,!0),U=C},bk.prototype.isAnimatingTo=function(){return !!U},bk.prototype.setScrollTop=function(ab,aa){return aa===!0&&(bp=ab,S=!0),P?X=D.min(D.max(ab,0),A):ba.scrollTo(0,ab),j},bk.prototype.getScrollTop=function(){return P?X:ba.pageYOffset||bl.scrollTop||aw.scrollTop||0},bk.prototype.on=function(aa,ab){return c[aa]=ab,j},bk.prototype.off=function(aa){return delete c[aa],j},bk.prototype.destroy=function(){var aa=bt();aa(am),Z(),T(bl,[bs],[K,ax,bq]);for(var ab=0,ac=O.length;ac>ab;ab++){ap(O[ab].element)}bl.style.overflow=aw.style.overflow="auto",bl.style.height=aw.style.height="auto",ae&&be.setStyle(ae,"transform","none"),j=C,ae=C,c=C,Q=C,A=0,bi=1,ai=C,B=C,w="down",bp=-1,a=0,af=0,f=!1,U=C,e=C,g=C,Y=C,S=C,bv=0,au=C,P=!1,X=0,an=C};var bw=function(){var aa,aG,aD,aF,ad,aB,aA,ab,aC,ac,aE;ay(bl,[bb,F,bm,bj].join(" "),function(aJ){aJ.preventDefault();var aN=aJ.changedTouches[0];switch(aF=aN.clientY,ad=aN.clientX,aC=aJ.timeStamp,aJ.type){case bb:aa&&aa.blur(),j.stopAnimateTo(),aa=aJ.target,aG=aB=aF,aD=ad,ab=aC;break;case F:aA=aF-aB,aE=aC-ac,j.setScrollTop(X-aA,!0),aB=aF,ac=aC;break;default:case bm:case bj:var aQ=aG-aF,aI=aD-ad,aK=aI*aI+aQ*aQ;if(49>aK){return aa.focus(),aa.click(),C}aa=C;var aP=aA/aE;aP=D.max(D.min(aP,3),-3);var aL=D.abs(aP/B),aM=aP*aL+0.5*B*aL*aL,aO=j.getScrollTop()-aM,aH=0;aO>A?(aH=(A-aO)/aM,aO=A):0>aO&&(aH=-aO/aM,aO=0),aL*=1-aH,j.animateTo(aO,{easing:"outCubic",duration:aL})}}),ba.scrollTo(0,0),bl.style.overflow=aw.style.overflow="hidden"},aq=function(){var aA,aa,aF,aE,ac,aC,aD,ad,aB;for(ad=0,aB=O.length;aB>ad;ad++){for(aA=O[ad],aa=aA.element,aF=aA.anchorTarget,aE=aA.keyFrames,ac=0,aC=aE.length;aC>ac;ac++){aD=aE[ac];var ab=aD.offset;aD.isPercentage&&(ab*=bl.clientHeight,aD.frame=ab),"relative"===aD.mode&&(ap(aa),aD.frame=j.relativeToAbsolute(aF,aD.anchors[0],aD.anchors[1])-ab,ap(aa,!0)),Q&&!aD.isEnd&&aD.frame>A&&(A=aD.frame)}}for(A=D.max(A,ag()),ad=0,aB=O.length;aB>ad;ad++){for(aA=O[ad],aE=aA.keyFrames,ac=0,aC=aE.length;aC>ac;ac++){aD=aE[ac],aD.isEnd&&(aD.frame=A-aD.offset)}aA.keyFrames.sort(d)}},ao=function(ad,aF){for(var aK=0,aE=O.length;aE>aK;aK++){var aG,aa,aA=O[aK],ac=aA.element,aB=aA.smoothScrolling?ad:aF,aL=aA.keyFrames,aH=aL[0].frame,aD=aL[aL.length-1].frame,aO=aH>aB,aQ=aB>aD,ab=aL[aO?0:aL.length-1];if(aO||aQ){if(aO&&-1===aA.edge||aQ&&1===aA.edge){continue}switch(T(ac,[aO?a0:bd],[a0,G,bd]),aA.edge=aO?-1:1,aA.edgeStrategy){case"reset":ap(ac);continue;case"ease":aB=ab.frame;break;default:case"set":var aP=ab.props;for(aG in aP){bh.call(aP,aG)&&(aa=W(aP[aG].value),be.setStyle(ac,aG,aa))}continue}}else{0!==aA.edge&&(T(ac,[bc,G],[a0,bd]),aA.edge=0)}for(var aM=0,aC=aL.length-1;aC>aM;aM++){if(aB>=aL[aM].frame&&aL[aM+1].frame>=aB){var aI=aL[aM],aJ=aL[aM+1];for(aG in aI.props){if(bh.call(aI.props,aG)){var aN=(aB-aI.frame)/(aJ.frame-aI.frame);aN=aI.props[aG].easing(aN),aa=br(aI.props[aG].value,aJ.props[aG].value,aN),aa=W(aa),be.setStyle(ac,aG,aa)}}break}}}},ar=function(){f&&(f=!1,al());var ad,aB,ab=j.getScrollTop(),ac=M();if(U){ac>=U.endTime?(ab=U.targetTop,ad=U.done,U=C):(aB=U.easing((ac-U.startTime)/U.duration),ab=0|U.startTop+aB*U.topDiff),j.setScrollTop(ab,!0)}else{if(!P){var aC=Y.targetTop-ab;aC&&(Y={startTop:bp,topDiff:ab-bp,targetTop:ab,startTime:ah,endTime:ah+g}),Y.endTime>=ac&&(aB=bf.sqrt((ac-Y.startTime)/g),ab=0|Y.startTop+aB*Y.topDiff)}}if(P&&ae&&be.setStyle(ae,"transform","translate(0, "+-X+"px) "+an),S||bp!==ab){w=ab>=bp?"down":"up",S=!1;var aa={curTop:ab,lastTop:bp,maxTop:A,direction:w},aA=c.beforerender&&c.beforerender.call(j,aa);aA!==!1&&(ao(ab,j.getScrollTop()),bp=ab,c.render&&c.render.call(j,aa)),ad&&ad.call(j,!1)}ah=ac},r=function(ad){for(var ab=0,aE=ad.keyFrames.length;aE>ab;ab++){for(var aC,aD,ac,aA,aB=ad.keyFrames[ab],aa={};null!==(aA=L.exec(aB.props));){ac=aA[1],aD=aA[2],aC=ac.match(x),null!==aC?(ac=aC[1],aC=aC[2]):aC=I,aD=aD.indexOf("!")?s(aD):[aD.slice(1)],aa[ac]={value:aD,easing:bf[aC]}}aB.props=aa}},s=function(aa){var ab=[];return ak.lastIndex=0,aa=aa.replace(ak,function(ac){return ac.replace(t,function(ad){return 100*(ad/255)+"%"})}),v&&(av.lastIndex=0,aa=aa.replace(av,function(ac){return v+ac})),aa=aa.replace(t,function(ac){return ab.push(+ac),"{?}"}),ab.unshift(aa),ab},z=function(ad){var ab,aa,ac={};for(ab=0,aa=ad.keyFrames.length;aa>ab;ab++){N(ad.keyFrames[ab],ac)}for(ac={},ab=ad.keyFrames.length-1;ab>=0;ab--){N(ad.keyFrames[ab],ac)}},N=function(ac,ab){var aa;for(aa in ab){bh.call(ac.props,aa)||(ac.props[aa]=ab[aa])}for(aa in ac.props){ab[aa]=ac.props[aa]}},br=function(ad,aB,aA){var ab,ac=ad.length;if(ac!==aB.length){throw"Can't interpolate between \""+ad[0]+'" and "'+aB[0]+'"'}var aa=[ad[0]];for(ab=1;ac>ab;ab++){aa[ab]=ad[ab]+(aB[ab]-ad[ab])*aA}return aa},W=function(aa){var ab=1;return i.lastIndex=0,aa[0].replace(i,function(){return aa[ab++]})},ap=function(ad,aB){ad=[].concat(ad);for(var aA,ab,ac=0,aa=ad.length;aa>ac;ac++){ab=ad[ac],aA=O[ab[p]],aA&&(aB?(ab.style.cssText=aA.dirtyStyleAttr,T(ab,aA.dirtyClassAttr)):(aA.dirtyStyleAttr=ab.style.cssText,aA.dirtyClassAttr=V(ab),ab.style.cssText=aA.styleAttr,T(ab,aA.classAttr)))}},H=function(){an="translateZ(0)",be.setStyle(ae,"transform",an);var ad=az(ae),ab=ad.getPropertyValue("transform"),aa=ad.getPropertyValue(v+"transform"),ac=ab&&"none"!==ab||aa&&"none"!==aa;ac||(an="")};be.setStyle=function(aA,ab,aa){var ac=aA.style;if(ab=ab.replace(bn,q).replace("-",""),"zIndex"===ab){ac[ab]=""+(0|aa)}else{if("float"===ab){ac.styleFloat=ac.cssFloat=aa}else{try{o&&(ac[o+ab.slice(0,1).toUpperCase()+ab.slice(1)]=aa),ac[ab]=aa}catch(ad){}}}};var j,O,ae,c,Q,ai,B,U,e,g,Y,S,au,an,am,ay=be.addEvent=function(aA,ad,ab){var ac=function(aD){return aD=aD||ba.event,aD.target||(aD.target=aD.srcElement),aD.preventDefault||(aD.preventDefault=function(){aD.returnValue=!1}),ab.call(this,aD)};ad=ad.split(" ");for(var aC,aB=0,aa=ad.length;aa>aB;aB++){aC=ad[aB],aA.addEventListener?aA.addEventListener(aC,ab,!1):aA.attachEvent("on"+aC,ac),b.push({element:aA,name:aC,listener:ab})}},R=be.removeEvent=function(aA,ab,aa){ab=ab.split(" ");for(var ac=0,ad=ab.length;ad>ac;ac++){aA.removeEventListener?aA.removeEventListener(ab[ac],aa,!1):aA.detachEvent("on"+ab[ac],aa)}},Z=function(){for(var ac,ab=0,aa=b.length;aa>ab;ab++){ac=b[ab],R(ac.element,ac.name,ac.listener)}b=[]},al=function(){var aa=j.getScrollTop();A=0,Q&&!P&&(aw.style.height="auto"),aq(),Q&&!P&&(aw.style.height=A+bl.clientHeight+"px"),P?j.setScrollTop(D.min(j.getScrollTop(),A)):j.setScrollTop(aa,!0),S=!0},ag=function(){var aa=ae&&ae.offsetHeight||0,ab=D.max(aa,aw.scrollHeight,aw.offsetHeight,bl.scrollHeight,bl.offsetHeight,bl.clientHeight);return ab-bl.clientHeight},V=function(ab){var aa="className";return ba.SVGElement&&ab instanceof ba.SVGElement&&(ab=ab[aa],aa="baseVal"),ab[aa]},T=function(ab,aD,aE){var ac="className";if(ba.SVGElement&&ab instanceof ba.SVGElement&&(ab=ab[ac],ac="baseVal"),aE===C){return ab[ac]=aD,C}for(var aB=ab[ac],aC=0,aa=aE.length;aa>aC;aC++){aB=at(aB).replace(at(aE[aC])," ")}aB=aj(aB);for(var ad=0,aA=aD.length;aA>ad;ad++){-1===at(aB).indexOf(at(aD[ad]))&&(aB+=" "+aD[ad])}ab[ac]=aj(aB)},aj=function(aa){return aa.replace(y,"")},at=function(aa){return" "+aa+" "},M=Date.now||function(){return +new Date},d=function(aa,ab){return aa.frame-ab.frame},A=0,bi=1,w="down",bp=-1,ah=M(),a=0,af=0,f=!1,bv=0,P=!1,X=0,b=[]})(window,document);